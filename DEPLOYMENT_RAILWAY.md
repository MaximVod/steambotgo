# Деплой на Railway

## Подготовка

1. Создайте аккаунт на [Railway](https://railway.app/)
2. Установите Railway CLI:
   ```bash
   npm install -g @railway/cli
   # или
   curl -fsSL https://railway.app/install.sh | sh
   ```

## Деплой

1. Авторизуйтесь в Railway:
   ```bash
   railway login
   ```

2. Инициализируйте проект:
   ```bash
   railway init
   ```

3. Установите переменные окружения (одним из способов):
   
   Вариант 1:
   ```bash
   railway variables set TELEGRAM_BOT_TOKEN="ваш_токен_бота_здесь"
   ```
   
   Вариант 2:
   ```bash
   railway config set TELEGRAM_BOT_TOKEN="ваш_токен_бота_здесь"
   ```
   
   Вариант 3 (через веб-интерфейс):
   - Перейдите на сайт Railway
   - Откройте свой проект
   - Перейдите во вкладку "Variables"
   - Добавьте новую переменную с названием "TELEGRAM_BOT_TOKEN" и значением вашего токена

4. Деплой проекта:
   ```bash
   railway deploy
   ```

## Тестирование локально

### Установка токена бота

Для локального тестирования создайте файл `.env` в корне проекта и поместите туда ваш токен:

```
TELEGRAM_BOT_TOKEN=ваш_токен_бота_здесь
```

### Запуск приложения локально

1. Убедитесь, что у вас установлен Go (версии 1.22 или выше)
2. В корне проекта создайте файл `.env` с токеном бота
3. Запустите приложение командой:
   ```bash
   go run cmd/main.go
   ```

Приложение должно запуститься локально и бот будет работать на вашем компьютере.

### Рекомендации по разработке

1. **Локальная разработка**: Добавляйте новые фичи и тестируйте их локально перед деплоем на Railway
2. **Разделение окружений**: Можете создать отдельного тестового бота в Telegram для локальной разработки
3. **Использование go-reload**: Для более удобной разработки можно использовать инструменты вроде `air` для автоматической перезагрузки при изменении кода:
   ```bash
   go install github.com/cosmtrek/air@latest
   air
   ```

4. **Тестирование**: После добавления новых фич протестируйте их локально, а затем задеплойте на Railway

## Альтернативный способ через GitHub

1. Свяжите ваш GitHub репозиторий с Railway
2. Добавьте переменную окружения `TELEGRAM_BOT_TOKEN` в настройках проекта на Railway
3. Railway будет автоматически деплоить изменения при пуше в ветку

## Важно

- Файл `.env` не будет загружен на Railway, все переменные окружения должны быть установлены через панель управления Railway или CLI
- Убедитесь, что ваш бот настроен на работу с серверами Railway (иногда требуются дополнительные настройки вебхуков)
